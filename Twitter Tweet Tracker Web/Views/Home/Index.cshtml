@using Twitter_Tweet_Tracker_Web.Models
@{
    TTTUser user = (TTTUser)ViewBag.user;
}

<script type="text/javascript">
    let dataLoaded = false;
</script>

<div class="wrapper">
    <div class="logo">
        <img src="https://www.freepnglogos.com/uploads/twitter-logo-png/twitter-bird-symbols-png-logo-0.png" alt="">
    </div>
    <div class="text-center mt-4 name">
        Login using Twitter
    </div>
    <hr />

    @if (user != null)
    {
        <div class="row">
            <div class="logo">
                <img src="@user.profileImage" alt="">
            </div>
            <div class="m-aut">
                <div class="text-center user-name">Logged in as: @user.name (@user.username)</div>
            </div>
        </div>

        <div class="row">
            <div class="m-auto">
                @*@Html.ActionLink("Begin Profiling","Dashboard","Home",new {@class="btn mt-3"})*@
                @using (Html.BeginForm("Dashboard", "Home", FormMethod.Post))
                    {
                        <input hidden="true" name="user_id" value="@user.user_id"/>
                        <input hidden="true" name="username" value="@user.username"/>
                        <input hidden="true" name="name" value="@user.name"/>
                        <input hidden="true" name="profileImage" value="@user.profileImage"/>
                        <input hidden="true" name="following_count" type="number" value="@user.following_count"/>
                        <input hidden="true" name="followers_count" type="number" value="@user.followers_count"/>
                        <input hidden="true" name="tweet_count" type="number" value="@user.tweet_count"/>
                        <button type="submit" class="btn mt-3">Begin Profiling</button>
                    }
            </div>
        </div>
    }
    else
    {
        using (Html.BeginForm("Login", "Account", FormMethod.Post))
        {
            <button type="submit" class="btn mt-3">Login</button>
        }
    }
</div>
